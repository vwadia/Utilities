function [sessID, tStrct, recStim] = sessionListAllTasks(task, includeTaskStruct, includeRecalledStim)
% This is functionality I use everywhere 
% to make cell Structs, in the SFC analysis, in the catch question analysis
% imagined decoding etc.
% So decided to compile a list in a single place and just call it
% INPUTS:
%     1. Task: string for which task to choose
%     2. Boolean: Do we want to return the task structs too?
%
% OUTPUTS:
%     1. sessID: a 1 x n cell array with the paths to all tasks
% vwadia May2023

if nargin == 1, includeTaskStruct = false; includeRecalledStim = false; end
if nargin == 2, includeRecalledStim = false; end

tStrct = {};
recStim = {};

if strcmp(task, 'Recall_Task') 

    sessID = {['Recall_Task' filesep 'P76CS' filesep 'ReScreenRecall_Session_1_20210917'],...
        ['Recall_Task' filesep 'P76CS' filesep 'RecallScreening_Session_2_20210925'],... % moved ITResponses into screening folder for sess 2
        ['Recall_Task' filesep 'P76CS' filesep 'ReScreenRecall_Session_3_20210927'],...
        ['Recall_Task' filesep 'P79CS' filesep 'ReScreenRecall_Session_1_20220330'],...
        ['Recall_Task' filesep 'P79CS' filesep 'ReScreenRecall_Session_2_20220403'],...
        ['Recall_Task' filesep 'P79CS' filesep 'ReScreenRecall_Session_3_20220405'],...
        ['Recall_Task' filesep 'P80CS' filesep 'ReScreenRecall_Session_1_20220728'],...
        ['Recall_Task' filesep 'P80CS' filesep 'ReScreenRecall_Session_2_20220731'],...
        ['Recall_Task' filesep 'P84CS' filesep 'ReScreenRecall_Session_1_20230406'],...    
        ['Recall_Task' filesep 'P84CS' filesep 'ReScreenRecall_Session_2_20230408'],...
        ['Recall_Task' filesep 'P85CS' filesep 'ReScreenRecall_Session_1_20230424']};    
    
    if includeTaskStruct
        tStrct = {'P76CSRec_ReScreen_Sub_4_Block',...
        'P76CS_RecScreen_2_Sub_4_Block',...
        'P76CSRec_ReScreen_3_Sub_4_Block',...
        'P79CS_ReScreen_1_Sub_4_Block',...
        'P79CS_ReScreen_3_Sub_4_Block',...
        'P79CS_ReScreen_4_Sub_4_Block',...
        'P80CS_ReScreenRecall_Sub_4_Block',...
        'P80CS_ReScreecRecall_2_Sub_4_Block',...
        'P84CS_ReScreenRecall_1_Sub_4_Block',...
        'P84CS_ReScreenRecall_2_Sub_4_Block',...
        'P85CS_ReScreenRecall_Sub_4_Block'};
    end
    
    if includeRecalledStim
        recStim = {[12 19 25 123 270 487];...
            [54 129 130 186 270 449];...
            [18 44 45 81 135 181 230 344];...
            [9 157 167 200 201 291 422 498];...
            [9 12 117 292 360 368 421 492];...
            [77 112 160 232 278 345 387 440];...
            [17 61 76 114 157 161 177 480 ];...
            [55 88 148 251 256 274 285 365];...
            [68 121 243 261 281 308 415 434];...
            [52 141 195 223 238 351 399 482];...
            [7 11 99 153 201 251 355 486]};
    end


    
    
elseif strcmp(task, 'ReScreen_Recall') % all afternoon neurons 
    
     sessID = {['Recall_Task' filesep 'P76CS' filesep 'ReScreenRecall_Session_1_20210917'],...
        ['Recall_Task' filesep 'P76CS' filesep 'RecallScreening_Session_2_20210925'],... % moved ITResponses into screening folder for sess 2
        ['Recall_Task' filesep 'P76CS' filesep 'ReScreenRecall_Session_3_20210927'],...
        ['Recall_Task' filesep 'P79CS' filesep 'ReScreenRecall_Session_1_20220330'],...
        ['Recall_Task' filesep 'P79CS' filesep 'ReScreenRecall_Session_2_20220403'],...
        ['Recall_Task' filesep 'P79CS' filesep 'ReScreenRecall_Session_3_20220405'],...
        ['Recall_Task' filesep 'P80CS' filesep 'ReScreenRecall_Session_1_20220728'],...
        ['Recall_Task' filesep 'P80CS' filesep 'ReScreenRecall_Session_2_20220731'],...
        ['Object_Screening' filesep 'P81CS' filesep 'ClosedLoopReScreen_Session_1_20221030'],...
        ['Object_Screening' filesep 'P82CS' filesep 'ClosedLoopReScreen_Session_1_20230115'],...
        ['Recall_Task' filesep 'P84CS' filesep 'ReScreenRecall_Session_1_20230406'],...
        ['Recall_Task' filesep 'P84CS' filesep 'ReScreenRecall_Session_2_20230408'],...
        ['Object_Screening' filesep 'P85CS' filesep 'ClosedLoopReScreen_Session_1_20230419'],...
        ['Recall_Task' filesep 'P85CS' filesep 'ReScreenRecall_Session_1_20230424']};   
    
    if includeTaskStruct
        tStrct = {'P76CSRec_ReScreen_Sub_4_Block',...
        'P76CS_RecScreen_2_Sub_4_Block',...
        'P76CSRec_ReScreen_3_Sub_4_Block',...
        'P79CS_ReScreen_1_Sub_4_Block',...
        'P79CS_ReScreen_3_Sub_4_Block',...
        'P79CS_ReScreen_4_Sub_4_Block',...
        'P80CS_ReScreenRecall_Sub_4_Block',...
        'P80CS_ReScreecRecall_2_Sub_4_Block',...
        'P81_synth_Sub_4_Block',...
        'P82CS_CLReScreen_Sub_4_Block',...
        'P84CS_ReScreenRecall_1_Sub_4_Block',...
        'P84CS_ReScreenRecall_2_Sub_4_Block',...
        'P85CS_CLReScreen_Sub_4_Block',...
        'P85CS_ReScreenRecall_Sub_4_Block'};
    end
    
elseif strcmp(task, 'Object_Screening') % morning sessions only
    
%    ['Object_Screening' filesep 'P71CS' filesep 'FastObjectScreening_Session_1_20201125'],...%d
     sessID = {['Object_Screening' filesep 'P73CS' filesep 'FullParamObjScreening_Session_1_20210328' filesep '500stim'],...%d
        ['Object_Screening' filesep 'P75CS' filesep 'FingerprintScreening_Session_1_20210902'],...%d
        ['Object_Screening' filesep 'P76CS' filesep 'FingerprintScreening_Session_1_20210915'],...%d
        ['Recall_task' filesep 'P76CS' filesep 'RecallScreening_Session_1_20210917'],...%d
        ['Recall_task' filesep 'P76CS' filesep 'RecallScreening_Session_2_20210925'],...%d
        ['Recall_task' filesep 'P76CS' filesep 'RecallScreening_Session_3_20210927'],...%d
        ['Object_Screening' filesep 'P77CS' filesep 'FingerprintScreening_Session_1_20211007'],...%d
        ['Object_Screening' filesep 'P78CS' filesep 'FingerprintScreening_Session_1_20220309'],...%d
        ['Object_Screening' filesep 'P78CS' filesep 'FingerprintScreening_Session_2_20220314'],...%d
        ['Recall_Task' filesep 'P79CS' filesep 'RecallScreening_Session_1_20220330'],...
        ['Object_Screening' filesep 'P79CS' filesep 'FingerprintScreening_Session_1_20220331'],...%d
        ['Recall_task' filesep 'P79CS' filesep 'RecallScreening_Session_2_20220403'],...%d
        ['Recall_task' filesep 'P79CS' filesep 'RecallScreening_Session_3_20220405'],...
        ['Object_Screening' filesep 'P80CS' filesep 'FingerprintScreening_Session_1_20220727'],...%d
        ['Recall_task' filesep 'P80CS' filesep 'RecallScreening_Session_1_20220728'],...%d
        ['Recall_task' filesep 'P80CS' filesep 'RecallScreening_Session_2_20220730'],...
        ['Object_Screening' filesep 'P80CS' filesep 'FingerprintScreening_Session_2_20220801'],...
        ['Object_Screening' filesep 'P81CS' filesep 'FingerprintScreening_Session_1_20221026'],...
        ['Object_Screening' filesep 'P81CS' filesep 'FingerprintScreening_Session_2_20221028'],...
        ['Object_Screening' filesep 'P81CS' filesep 'ClosedLoopScreening_Session_1_20221030'],...
        ['Object_Screening' filesep 'P82CS' filesep 'FingerprintScreening_Session_1_20230111'],...
        ['Object_Screening' filesep 'P82CS' filesep 'ClosedLoopScreening_Session_1_20230115'],...
        ['Object_Screening' filesep 'P84CS' filesep 'FingerprintScreening_Session_1_20230405'],...
        ['Recall_task' filesep 'P84CS' filesep 'RecallScreening_Session_1_20230406'],...
        ['Recall_task' filesep 'P84CS' filesep 'RecallScreening_Session_2_20230408'],...
        ['Object_Screening' filesep 'P85CS' filesep 'ClosedLoopScreening_Session_1_20230419'],...
        ['Recall_task' filesep 'P85CS' filesep 'RecallScreening_Session_1_20230424'],...
        ['Object_Screening' filesep 'P86CS' filesep 'FingerprintScreening_Session_1_20230726'],...
        ['Object_Screening' filesep 'P87CS' filesep 'FingerprintScreening_Session_1_20230627'],...
        ['Object_Screening' filesep 'P88CS' filesep 'FingerprintScreening_Session_1_20230809']}; %d
    
    if includeTaskStruct
%         'P71CS_Fast_Sub_6_Block',...
    tStrct = {'P73CS_ParamObj_Sub_4_Block',...
        'P75CS_ObjScreen_Sub_4_Block',...
        'P76CSFast_Sub_4_Block',...
        'P76CSFast_2_Sub_4_Block',...
        'P76CS_RecScreen_2_Sub_4_Block',...
        'P76CS_RecScreen_3_Sub_4_Block',...
        'P77CS_1_Sub_4_Block',...
        'P78CS_1_Sub_4_Block',...
        'P78CS_Screen2_Sub_4_Block',...
        'P79CS_1_Sub_4_Block',...
        'P79CS_2_Sub_4_Block',...
        'P79CS_3_Sub_4_Block',...
        'P79CS_4_Sub_4_Block',...
        'P80CS_2_Sub_4_Block',...
        'P80CS_RecScreen_1_Sub_4_Block',...
        'P80CS_RecScreen_2_Sub_4_Block',...
        'P80CS_2_Att2_Sub_4_Block',...
        '81CS_forReal_Sub_4_Block',...
        'P81CS_2_Sub_4_Block',...
        'P81CS_AM_Sub_4_Block',...
        'P82CS_1_Sub_4_Block',...
        'P82CS_CL_1_Sub_4_Block',...
        'P84CS_1_Sub_4_Block',...
        'P84CS_RecScreen_1_Sub_4_Block',...
        'P84CS_RecScreen_2_Sub_4_Block',...
        'P85CS_1_Sub_4_Block',...
        'P85CS_RecScreen_1_Sub_4_Block',...
        'P86CS_1_Sub_4_Block',...
        'P87CS_1_Sub_4_Block',...
        'P88CS_00_Sub_4_Block'};
    end
    
    
end

% make sure lengths are correct
if ~isempty(tStrct)
    assert(isequal(length(tStrct), length(sessID)), 'taskstructs need to match sessions!')
end

end